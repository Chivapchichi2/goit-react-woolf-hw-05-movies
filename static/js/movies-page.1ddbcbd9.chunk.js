"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[493],{459:function(e,t,a){a.d(t,{Z:function(){return s}});var n="Button_Button__Smq3v",r=a(184),s=function(e){var t=e.onClick,a=e.name,s=e.disabled;return(0,r.jsx)("button",{type:"button",onClick:t,className:n,disabled:s,children:a})}},624:function(e,t,a){a.d(t,{Z:function(){return v}});var n=a(689),r=a(87),s="MoviesGalleryItem_MoviesGalleryItem__WNl7g",c="MoviesGalleryItem_MoviesGalleryItem__image__i3TJI",o="MoviesGalleryItem_MoviesGalleryItem__title__gn+cx",i="MoviesGalleryItem_MoviesGalleryItem__vote__71dma",u=a(184),l=function(e){var t=e.poster,a=e.title,l=e.vote,m=e.id,v=(0,n.TH)();return(0,u.jsx)("li",{className:s,children:(0,u.jsxs)(r.rU,{to:{pathname:"/movies/".concat(m),state:v},children:[(0,u.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w300".concat(t):"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg",alt:a,className:c}),(0,u.jsx)("h2",{className:o,children:a}),(0,u.jsx)("span",{className:i,children:l})]})})},m="MoviesGallery_MoviesGallery__tqAIU",v=function(e){var t=e.movies;return(0,u.jsx)("ul",{className:m,children:t.map((function(e){var t=e.id,a=e.poster_path,n=e.vote_average,r=e.title;return(0,u.jsx)(l,{poster:a,vote:n,title:r,id:t},t)}))})}},51:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(861),r=a(439),s=a(757),c=a.n(s),o=a(791),i=a(689),u=a(253),l=a(459),m=a(624),v=a(481),f=a(552),h="Searchbar_Searchbar__5WKzV",_="Searchbar_SearchForm__XuPyK",d="Searchbar_button__nkcjk",p="Searchbar_buttonLabel__ftNUS",b="Searchbar_input__19umw",x=a(184),g=function(e){var t=e.onSubmit,a=(0,o.useState)(""),n=(0,r.Z)(a,2),s=n[0],c=n[1];return(0,x.jsx)("div",{className:h,children:(0,x.jsxs)("form",{className:_,onSubmit:function(e){e.preventDefault(),t({query:s}),c("")},children:[(0,x.jsx)("button",{type:"submit",className:d,children:(0,x.jsx)("span",{className:p,children:"Search"})}),(0,x.jsx)("input",{className:b,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){c(e.target.value)},value:s})]})})},y=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),a=t[0],s=t[1],h=(0,o.useState)(1),_=(0,r.Z)(h,2),d=_[0],p=_[1],b=(0,o.useState)(""),y=(0,r.Z)(b,2),j=y[0],S=y[1],Z=(0,o.useState)(!1),k=(0,r.Z)(Z,2),w=k[0],N=k[1],M=(0,o.useState)(""),C=(0,r.Z)(M,2),I=C[0],G=C[1],q=(0,i.TH)(),B=(0,i.s0)();(0,o.useEffect)((function(){var e=new URLSearchParams(q.search),t=e.get("query"),a=parseInt(e.get("page"))||1;t&&(G(t),p(a))}),[q.search]),(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=16;break}return N(!0),e.prev=2,e.next=5,u.Z.getByQueryMovies(I,d);case 5:t=e.sent,s(t),B("?query=".concat(I,"&page=").concat(d)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),S(e.t0);case 13:return e.prev=13,N(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[I,d,B]);var F=function(e){return function(){N(!0),u.Z.getByQueryMovies(I,e).then((function(t){s(t),p(e),B("?query=".concat(I,"&page=").concat(e)),window.scrollTo({top:0,behavior:"smooth"})})).catch((function(e){return S(e)})).finally((function(){return N(!1)}))}},P=!w&&a[0];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{onSubmit:function(e){var t=e.query;p(1),G(t),s([]),S("")}}),j&&(0,x.jsx)(f.Z,{message:"Something wrong :("}),a[0]&&(0,x.jsx)(m.Z,{movies:a}),I&&!a[0]&&!w&&(0,x.jsx)(f.Z,{message:"We have not found any movies with this name"}),w&&(0,x.jsx)(v.Z,{}),P&&(0,x.jsxs)(x.Fragment,{children:[1===d?(0,x.jsx)(l.Z,{onClick:F(d-1),name:"<<< Prev page ".concat(d-1),disabled:true}):(0,x.jsx)(l.Z,{onClick:F(d-1),name:"<<< Prev page \u2116".concat(d-1)}),(0,x.jsx)(l.Z,{onClick:F(d),name:"Current page \u2116".concat(d),disabled:true}),(0,x.jsx)(l.Z,{onClick:F(d+1),name:"Next page ".concat(d+1," >>>")})]})]})}}}]);
//# sourceMappingURL=movies-page.1ddbcbd9.chunk.js.map