{"version":3,"file":"static/js/home-page.d76451a5.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.module.css?8ef5","components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","pages/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__Smq3v\"};","import styles from './Button.module.css';\n\nconst Button = ({ onClick, name, disabled }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className={styles.Button}\n    disabled={disabled}\n  >\n    {name}\n  </button>\n);\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGalleryItem\":\"MoviesGalleryItem_MoviesGalleryItem__WNl7g\",\"MoviesGalleryItem__image\":\"MoviesGalleryItem_MoviesGalleryItem__image__i3TJI\",\"MoviesGalleryItem__title\":\"MoviesGalleryItem_MoviesGalleryItem__title__gn+cx\",\"MoviesGalleryItem__vote\":\"MoviesGalleryItem_MoviesGalleryItem__vote__71dma\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesGalleryItem.module.css';\n\nconst MoviesGalleryItem = ({ poster, title, vote, id }) => {\n  const location = useLocation();\n\n  return (\n    <li className={styles.MoviesGalleryItem}>\n      <Link to={`/movies/${id}`} state={location}>\n        <img\n          src={\n            poster\n              ? `https://image.tmdb.org/t/p/w300${poster}`\n              : 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg'\n          }\n          alt={title}\n          className={styles.MoviesGalleryItem__image}\n        />\n        <h2 className={styles.MoviesGalleryItem__title}>{title}</h2>\n        <span className={styles.MoviesGalleryItem__vote}>{vote}</span>\n      </Link>\n    </li>\n  );\n};\n\nexport default MoviesGalleryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGallery\":\"MoviesGallery_MoviesGallery__tqAIU\"};","import MoviesGalleryItem from './MoviesGalleryItem';\nimport styles from './MoviesGallery.module.css';\n\nconst MoviesGallery = ({ movies }) => (\n  <ul className={styles.MoviesGallery}>\n    {movies.map(\n      ({ id, poster_path: posterPath, vote_average: voteAverage, title }) => (\n        <MoviesGalleryItem\n          key={id}\n          poster={posterPath}\n          vote={voteAverage}\n          title={title}\n          id={id}\n        />\n      )\n    )}\n  </ul>\n);\n\nexport default MoviesGallery;\n","import { useState, useEffect } from 'react';\nimport api from '../services/moviesApi';\nimport Button from '../components/Button';\nimport MoviesGallery from '../components/MoviesGallery';\nimport Loader from '../components/Loader';\nimport Notification from '../components/Notification';\n\nconst HomePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState('');\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoader(true);\n        const movies = await api.getTrendingMovies(page);\n        setMovies(movies);\n        setError('');\n        setLoader(false);\n      } catch (err) {\n        setError(err);\n        setLoader(false);\n      }\n    };\n\n    fetchMovies();\n  }, [page]);\n\n  const handleOnButtonClick = newPage => {\n    setLoader(true);\n    api\n      .getTrendingMovies(newPage)\n      .then(movies => {\n        setMovies(movies);\n        setPage(newPage);\n        setError('');\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => setError(error))\n      .finally(() => {\n        setLoader(false);\n      });\n  };\n\n  return (\n    <>\n      {error && <Notification message=\"Something wrong :(\" />}\n      <MoviesGallery movies={movies} />\n      {loader && <Loader />}\n      {movies.length > 0 && (\n        <>\n          {page === 1 ? (\n            <Button\n              onClick={() => handleOnButtonClick(page - 1)}\n              name={`<<< Prev page ${page - 1}`}\n              disabled={page === 1}\n            />\n          ) : (\n            <Button\n              onClick={() => handleOnButtonClick(page - 1)}\n              name={`<<< Prev page №${page - 1}`}\n            />\n          )}\n          <Button\n            onClick={() => handleOnButtonClick(page)}\n            name={`Current page №${page}`}\n            disabled={loader}\n          />\n          <Button\n            onClick={() => handleOnButtonClick(page + 1)}\n            name={`Next page ${page + 1} >>>`}\n            disabled={loader}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default HomePage;\n"],"names":["_ref","onClick","name","disabled","_jsx","type","className","styles","children","poster","title","vote","id","location","useLocation","_jsxs","Link","to","concat","state","src","alt","movies","map","_ref2","posterPath","poster_path","voteAverage","vote_average","MoviesGalleryItem","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","page","setPage","_useState5","_useState6","error","setError","_useState7","_useState8","loader","setLoader","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_movies","_context","prev","next","api","sent","t0","stop","apply","arguments","handleOnButtonClick","newPage","then","window","scrollTo","top","behavior","catch","finally","_Fragment","Notification","message","MoviesGallery","Loader","length","Button"],"sourceRoot":""}