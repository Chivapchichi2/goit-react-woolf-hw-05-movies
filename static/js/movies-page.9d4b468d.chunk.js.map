{"version":3,"file":"static/js/movies-page.9d4b468d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.module.css?8ef5","components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__Smq3v\"};","import styles from './Button.module.css';\n\nconst Button = ({ onClick, name, disabled }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className={styles.Button}\n    disabled={disabled}\n  >\n    {name}\n  </button>\n);\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGalleryItem\":\"MoviesGalleryItem_MoviesGalleryItem__WNl7g\",\"MoviesGalleryItem__image\":\"MoviesGalleryItem_MoviesGalleryItem__image__i3TJI\",\"MoviesGalleryItem__title\":\"MoviesGalleryItem_MoviesGalleryItem__title__gn+cx\",\"MoviesGalleryItem__vote\":\"MoviesGalleryItem_MoviesGalleryItem__vote__71dma\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesGalleryItem.module.css';\n\nconst MoviesGalleryItem = ({ poster, title, vote, id }) => {\n  const location = useLocation();\n\n  return (\n    <li className={styles.MoviesGalleryItem}>\n      <Link to={`/movies/${id}`} state={location}>\n        <img\n          src={\n            poster\n              ? `https://image.tmdb.org/t/p/w300${poster}`\n              : 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg'\n          }\n          alt={title}\n          className={styles.MoviesGalleryItem__image}\n        />\n        <h2 className={styles.MoviesGalleryItem__title}>{title}</h2>\n        <span className={styles.MoviesGalleryItem__vote}>{vote}</span>\n      </Link>\n    </li>\n  );\n};\n\nexport default MoviesGalleryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGallery\":\"MoviesGallery_MoviesGallery__tqAIU\"};","import MoviesGalleryItem from './MoviesGalleryItem';\nimport styles from './MoviesGallery.module.css';\n\nconst MoviesGallery = ({ movies }) => (\n  <ul className={styles.MoviesGallery}>\n    {movies.map(\n      ({ id, poster_path: posterPath, vote_average: voteAverage, title }) => (\n        <MoviesGalleryItem\n          key={id}\n          poster={posterPath}\n          vote={voteAverage}\n          title={title}\n          id={id}\n        />\n      )\n    )}\n  </ul>\n);\n\nexport default MoviesGallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"button\":\"Searchbar_button__nkcjk\",\"buttonLabel\":\"Searchbar_buttonLabel__ftNUS\",\"input\":\"Searchbar_input__19umw\"};","import { useState } from 'react';\nimport styles from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    onSubmit({ query });\n    setQuery('');\n  };\n\n  return (\n    <div className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleFormSubmit}>\n        <button type=\"submit\" className={styles.button}>\n          <span className={styles.buttonLabel}>Search</span>\n        </button>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleInputChange}\n          value={query}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Searchbar;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from '../services/moviesApi';\nimport Button from '../components/Button';\nimport MoviesGallery from '../components/MoviesGallery';\nimport Loader from '../components/Loader';\nimport Notification from '../components/Notification';\nimport SearchBar from '../components/Searchbar';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [loader, setLoader] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const page = parseInt(searchParams.get('page')) || 1;\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (query) {\n        setLoader(true);\n        try {\n          const fetchedMovies = await api.getByQueryMovies(query, page);\n          setMovies(fetchedMovies);\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n        } catch (err) {\n          setError(err);\n        } finally {\n          setLoader(false);\n        }\n      }\n    };\n\n    fetchMovies();\n  }, [searchParams, query, page]);\n\n  const handleOnButtonClick = newPage => () => {\n    setSearchParams({ query, page: newPage });\n  };\n\n  const handleFormData = ({ query }) => {\n    setMovies([]);\n    setError('');\n    setSearchParams({ query, page: 1 });\n  };\n\n  const showButtons = !loader && movies[0];\n  const disabled = true;\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormData} />\n      {error && <Notification message=\"Something wrong :(\" />}\n      {movies[0] && <MoviesGallery movies={movies} />}\n      {query && !movies[0] && !loader && (\n        <Notification message=\"We have not found any movies with this name\" />\n      )}\n      {loader && <Loader />}\n      {showButtons && (\n        <>\n          {page === 1 ? (\n            <Button\n              onClick={handleOnButtonClick(page - 1)}\n              name={`<<< Prev page ${page - 1}`}\n              disabled={disabled}\n            />\n          ) : (\n            <Button\n              onClick={handleOnButtonClick(page - 1)}\n              name={`<<< Prev page №${page - 1}`}\n            />\n          )}\n          <Button\n            onClick={handleOnButtonClick(page)}\n            name={`Current page №${page}`}\n            disabled={disabled}\n          />\n          <Button\n            onClick={handleOnButtonClick(page + 1)}\n            name={`Next page ${page + 1} >>>`}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["_ref","onClick","name","disabled","_jsx","type","className","styles","children","poster","title","vote","id","location","useLocation","_jsxs","Link","to","concat","state","src","alt","movies","map","_ref2","posterPath","poster_path","voteAverage","vote_average","MoviesGalleryItem","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","e","preventDefault","autoComplete","autoFocus","placeholder","onChange","target","value","setMovies","_useState3","_useState4","error","setError","_useState5","_useState6","loader","setLoader","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","page","parseInt","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","fetchedMovies","_context","prev","next","api","sent","window","scrollTo","top","behavior","t0","finish","stop","apply","arguments","handleOnButtonClick","newPage","showButtons","_Fragment","SearchBar","Notification","message","MoviesGallery","Loader","Button"],"sourceRoot":""}