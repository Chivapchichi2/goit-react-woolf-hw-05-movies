{"version":3,"file":"static/js/movies-page.1ddbcbd9.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.module.css?8ef5","components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.jsx","webpack://react-homework-template/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__Smq3v\"};","import styles from './Button.module.css';\n\nconst Button = ({ onClick, name, disabled }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    className={styles.Button}\n    disabled={disabled}\n  >\n    {name}\n  </button>\n);\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGalleryItem\":\"MoviesGalleryItem_MoviesGalleryItem__WNl7g\",\"MoviesGalleryItem__image\":\"MoviesGalleryItem_MoviesGalleryItem__image__i3TJI\",\"MoviesGalleryItem__title\":\"MoviesGalleryItem_MoviesGalleryItem__title__gn+cx\",\"MoviesGalleryItem__vote\":\"MoviesGalleryItem_MoviesGalleryItem__vote__71dma\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesGalleryItem.module.css';\n\nconst MoviesGalleryItem = ({ poster, title, vote, id }) => {\n  const location = useLocation();\n\n  return (\n    <li className={styles.MoviesGalleryItem}>\n      <Link\n        to={{\n          pathname: `/movies/${id}`,\n          state: location,\n        }}\n      >\n        <img\n          src={\n            poster\n              ? `https://image.tmdb.org/t/p/w300${poster}`\n              : 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg'\n          }\n          alt={title}\n          className={styles.MoviesGalleryItem__image}\n        />\n        <h2 className={styles.MoviesGalleryItem__title}>{title}</h2>\n        <span className={styles.MoviesGalleryItem__vote}>{vote}</span>\n      </Link>\n    </li>\n  );\n};\n\nexport default MoviesGalleryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGallery\":\"MoviesGallery_MoviesGallery__tqAIU\"};","import MoviesGalleryItem from './MoviesGalleryItem';\nimport styles from './MoviesGallery.module.css';\n\nconst MoviesGallery = ({ movies }) => (\n  <ul className={styles.MoviesGallery}>\n    {movies.map(\n      ({ id, poster_path: posterPath, vote_average: voteAverage, title }) => (\n        <MoviesGalleryItem\n          key={id}\n          poster={posterPath}\n          vote={voteAverage}\n          title={title}\n          id={id}\n        />\n      )\n    )}\n  </ul>\n);\n\nexport default MoviesGallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchForm\":\"Searchbar_SearchForm__XuPyK\",\"button\":\"Searchbar_button__nkcjk\",\"buttonLabel\":\"Searchbar_buttonLabel__ftNUS\",\"input\":\"Searchbar_input__19umw\"};","import { useState } from 'react';\nimport styles from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    onSubmit({ query });\n    setQuery('');\n  };\n\n  return (\n    <div className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleFormSubmit}>\n        <button type=\"submit\" className={styles.button}>\n          <span className={styles.buttonLabel}>Search</span>\n        </button>\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleInputChange}\n          value={query}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Searchbar;\n","import { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport api from '../services/moviesApi';\nimport Button from '../components/Button';\nimport MoviesGallery from '../components/MoviesGallery';\nimport Loader from '../components/Loader';\nimport Notification from '../components/Notification';\nimport SearchBar from '../components/Searchbar';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState('');\n  const [loader, setLoader] = useState(false);\n  const [query, setQuery] = useState('');\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const searchQuery = searchParams.get('query');\n    const searchPage = parseInt(searchParams.get('page')) || 1;\n\n    if (searchQuery) {\n      setQuery(searchQuery);\n      setPage(searchPage);\n    }\n  }, [location.search]);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      if (query) {\n        setLoader(true);\n        try {\n          const fetchedMovies = await api.getByQueryMovies(query, page);\n          setMovies(fetchedMovies);\n          navigate(`?query=${query}&page=${page}`);\n        } catch (err) {\n          setError(err);\n        } finally {\n          setLoader(false);\n        }\n      }\n    };\n\n    fetchMovies();\n  }, [query, page, navigate]);\n\n  const handleOnButtonClick = newPage => () => {\n    setLoader(true);\n    api\n      .getByQueryMovies(query, newPage)\n      .then(fetchedMovies => {\n        setMovies(fetchedMovies);\n        setPage(newPage);\n        navigate(`?query=${query}&page=${newPage}`);\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      })\n      .catch(err => setError(err))\n      .finally(() => setLoader(false));\n  };\n\n  const handleFormData = ({ query }) => {\n    setPage(1);\n    setQuery(query);\n    setMovies([]);\n    setError('');\n  };\n\n  const showButtons = !loader && movies[0];\n  const disabled = true;\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormData} />\n      {error && <Notification message=\"Something wrong :(\" />}\n      {movies[0] && <MoviesGallery movies={movies} />}\n      {query && !movies[0] && !loader && (\n        <Notification message=\"We have not found any movies with this name\" />\n      )}\n      {loader && <Loader />}\n      {showButtons && (\n        <>\n          {page === 1 ? (\n            <Button\n              onClick={handleOnButtonClick(page - 1)}\n              name={`<<< Prev page ${page - 1}`}\n              disabled={disabled}\n            />\n          ) : (\n            <Button\n              onClick={handleOnButtonClick(page - 1)}\n              name={`<<< Prev page №${page - 1}`}\n            />\n          )}\n          <Button\n            onClick={handleOnButtonClick(page)}\n            name={`Current page №${page}`}\n            disabled={disabled}\n          />\n          <Button\n            onClick={handleOnButtonClick(page + 1)}\n            name={`Next page ${page + 1} >>>`}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["_ref","onClick","name","disabled","_jsx","type","className","styles","children","poster","title","vote","id","location","useLocation","_jsxs","Link","to","pathname","concat","state","src","alt","movies","map","_ref2","posterPath","poster_path","voteAverage","vote_average","MoviesGalleryItem","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","e","preventDefault","autoComplete","autoFocus","placeholder","onChange","target","value","setMovies","_useState3","_useState4","page","setPage","_useState5","_useState6","error","setError","_useState7","_useState8","loader","setLoader","_useState9","_useState10","navigate","useNavigate","useEffect","searchParams","URLSearchParams","search","searchQuery","get","searchPage","parseInt","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","fetchedMovies","_context","prev","next","api","sent","t0","finish","stop","apply","arguments","handleOnButtonClick","newPage","then","window","scrollTo","top","behavior","catch","err","finally","showButtons","_Fragment","SearchBar","Notification","message","MoviesGallery","Loader","Button"],"sourceRoot":""}