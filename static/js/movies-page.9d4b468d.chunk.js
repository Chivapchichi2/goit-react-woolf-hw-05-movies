"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[493],{459:function(e,t,a){a.d(t,{Z:function(){return s}});var r="Button_Button__Smq3v",n=a(184),s=function(e){var t=e.onClick,a=e.name,s=e.disabled;return(0,n.jsx)("button",{type:"button",onClick:t,className:r,disabled:s,children:a})}},624:function(e,t,a){a.d(t,{Z:function(){return v}});var r=a(689),n=a(87),s="MoviesGalleryItem_MoviesGalleryItem__WNl7g",o="MoviesGalleryItem_MoviesGalleryItem__image__i3TJI",c="MoviesGalleryItem_MoviesGalleryItem__title__gn+cx",i="MoviesGalleryItem_MoviesGalleryItem__vote__71dma",u=a(184),l=function(e){var t=e.poster,a=e.title,l=e.vote,m=e.id,v=(0,r.TH)();return(0,u.jsx)("li",{className:s,children:(0,u.jsxs)(n.rU,{to:"/movies/".concat(m),state:v,children:[(0,u.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w300".concat(t):"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg",alt:a,className:o}),(0,u.jsx)("h2",{className:c,children:a}),(0,u.jsx)("span",{className:i,children:l})]})})},m="MoviesGallery_MoviesGallery__tqAIU",v=function(e){var t=e.movies;return(0,u.jsx)("ul",{className:m,children:t.map((function(e){var t=e.id,a=e.poster_path,r=e.vote_average,n=e.title;return(0,u.jsx)(l,{poster:a,vote:r,title:n,id:t},t)}))})}},51:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var r=a(861),n=a(439),s=a(757),o=a.n(s),c=a(791),i=a(87),u=a(253),l=a(459),m=a(624),v=a(481),_=a(552),f="Searchbar_Searchbar__5WKzV",h="Searchbar_SearchForm__XuPyK",d="Searchbar_button__nkcjk",p="Searchbar_buttonLabel__ftNUS",b="Searchbar_input__19umw",x=a(184),g=function(e){var t=e.onSubmit,a=(0,c.useState)(""),r=(0,n.Z)(a,2),s=r[0],o=r[1];return(0,x.jsx)("div",{className:f,children:(0,x.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault(),t({query:s}),o("")},children:[(0,x.jsx)("button",{type:"submit",className:d,children:(0,x.jsx)("span",{className:p,children:"Search"})}),(0,x.jsx)("input",{className:b,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){o(e.target.value)},value:s})]})})},j=function(){var e=(0,c.useState)([]),t=(0,n.Z)(e,2),a=t[0],s=t[1],f=(0,c.useState)(""),h=(0,n.Z)(f,2),d=h[0],p=h[1],b=(0,c.useState)(!1),j=(0,n.Z)(b,2),y=j[0],S=j[1],k=(0,i.lr)(),Z=(0,n.Z)(k,2),w=Z[0],N=Z[1],C=w.get("query"),I=parseInt(w.get("page"))||1;(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=16;break}return S(!0),e.prev=2,e.next=5,u.Z.getByQueryMovies(C,I);case 5:t=e.sent,s(t),window.scrollTo({top:0,behavior:"smooth"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),p(e.t0);case 13:return e.prev=13,S(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[w,C,I]);var M=function(e){return function(){N({query:C,page:e})}},G=!y&&a[0];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{onSubmit:function(e){var t=e.query;s([]),p(""),N({query:t,page:1})}}),d&&(0,x.jsx)(_.Z,{message:"Something wrong :("}),a[0]&&(0,x.jsx)(m.Z,{movies:a}),C&&!a[0]&&!y&&(0,x.jsx)(_.Z,{message:"We have not found any movies with this name"}),y&&(0,x.jsx)(v.Z,{}),G&&(0,x.jsxs)(x.Fragment,{children:[1===I?(0,x.jsx)(l.Z,{onClick:M(I-1),name:"<<< Prev page ".concat(I-1),disabled:true}):(0,x.jsx)(l.Z,{onClick:M(I-1),name:"<<< Prev page \u2116".concat(I-1)}),(0,x.jsx)(l.Z,{onClick:M(I),name:"Current page \u2116".concat(I),disabled:true}),(0,x.jsx)(l.Z,{onClick:M(I+1),name:"Next page ".concat(I+1," >>>")})]})]})}}}]);
//# sourceMappingURL=movies-page.9d4b468d.chunk.js.map